{"ast":null,"code":"import axios from 'axios';\nimport { API_BASE_URL } from '@/config.js';\nexport default {\n  props: ['priceFrom', 'priceTo', 'categoryId'],\n  data() {\n    return {\n      currentPriceFrom: 0,\n      currentPriceTo: 0,\n      currentCategoryId: 0,\n      categoriesData: null,\n      colorsData: null\n    };\n  },\n  computed: {\n    categories() {\n      return this.categoriesData ? this.categoriesData.items : [];\n    }\n  },\n  watch: {\n    priceFrom(value) {\n      this.currentPriceFrom = value;\n    },\n    priceTo(value) {\n      this.currentPriceTo = value;\n    },\n    categoryId(value) {\n      this.currentCategoryId = value;\n    }\n  },\n  methods: {\n    submit() {\n      this.$emit('update:price-from', this.currentPriceFrom);\n      this.$emit('update:price-to', this.currentPriceTo);\n      this.$emit('update:category-id', this.currentCategoryId);\n    },\n    reset() {\n      this.currentPriceFrom = 0;\n      this.currentPriceTo = 0;\n      this.currentCategoryId = 0;\n      this.submit();\n    },\n    loadCategories() {\n      axios.get(API_BASE_URL + '/api/productCategories').then(response => this.categoriesData = response.data);\n    }\n  },\n  created() {\n    this.loadCategories();\n  }\n};","map":{"version":3,"names":["axios","API_BASE_URL","props","data","currentPriceFrom","currentPriceTo","currentCategoryId","categoriesData","colorsData","computed","categories","items","watch","priceFrom","value","priceTo","categoryId","methods","submit","$emit","reset","loadCategories","get","then","response","created"],"sources":["src/components/ProductFilter.vue"],"sourcesContent":["<template>\n  <aside class=\"filter\">\n    <h2 class=\"filter__title\">Фильтры</h2>\n\n    <form class=\"filter__form form\" action=\"#\" method=\"get\" @submit.prevent=\"submit\">\n      <fieldset class=\"form__block\">\n        <legend class=\"form__legend\">Цена</legend>\n        <label class=\"form__label form__label--price\" for=\"min-price\">\n          <input class=\"form__input\" type=\"text\" name=\"min-price\"\n          v-model.number=\"currentPriceFrom\"/>\n          <span class=\"form__value\">От</span>\n        </label>\n        <label class=\"form__label form__label--price\" for=\"max-price\">\n          <input class=\"form__input\" type=\"text\" name=\"max-price\"\n          v-model.number=\"currentPriceTo\"/>\n          <span class=\"form__value\">До</span>\n        </label>\n      </fieldset>\n\n      <fieldset class=\"form__block\">\n        <legend class=\"form__legend\">Категория</legend>\n        <label class=\"form__label form__label--select\" for=\"category\">\n          <select class=\"form__select\" type=\"text\" name=\"category\"\n          v-model.number=\"currentCategoryId\">\n            <option value=0>Все категории</option>\n            <option :value=\"category.id\" v-for=\"category in categories\" :key=\"category.id\">\n              {{ category.title }}\n            </option>\n          </select>\n        </label>\n      </fieldset>\n\n      <button class=\"filter__submit button button--primery\" type=\"submit\">Применить</button>\n      <button class=\"filter__reset button button--second\" type=\"button\" @click.prevent=\"reset\">\n        Сбросить\n      </button>\n    </form>\n  </aside>\n</template>\n\n<script>\nimport axios from 'axios'\nimport {API_BASE_URL} from '@/config.js'\n\nexport default {\n  props: ['priceFrom', 'priceTo', 'categoryId'],\n  data() {\n    return {\n      currentPriceFrom: 0,\n      currentPriceTo: 0,\n      currentCategoryId: 0,\n\n      categoriesData: null,\n      colorsData: null\n    }\n  },\n  computed: {\n    categories() {\n      return this.categoriesData ? this.categoriesData.items : [];\n    }\n  },\n  watch: {\n    priceFrom(value) {\n      this.currentPriceFrom = value\n    },\n    priceTo(value) {\n      this.currentPriceTo = value\n    },\n    categoryId(value) {\n      this.currentCategoryId = value\n    }\n  },\n  methods: {\n    submit() {\n      this.$emit('update:price-from', this.currentPriceFrom);\n      this.$emit('update:price-to', this.currentPriceTo);\n      this.$emit('update:category-id', this.currentCategoryId);\n    },\n    reset() {\n      this.currentPriceFrom = 0;\n      this.currentPriceTo = 0;\n      this.currentCategoryId = 0;\n      this.submit();\n    },\n    loadCategories() {\n      axios.get(API_BASE_URL + '/api/productCategories')\n        .then(response => this.categoriesData = response.data)\n    }\n  },\n  created() {\n    this.loadCategories()\n  }\n};\n</script>\n\n<style>\n\n</style>"],"mappings":"AAyCA,OAAAA,KAAA;AACA,SAAAC,YAAA;AAEA;EACAC,KAAA;EACAC,KAAA;IACA;MACAC,gBAAA;MACAC,cAAA;MACAC,iBAAA;MAEAC,cAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACAC,WAAA;MACA,YAAAH,cAAA,QAAAA,cAAA,CAAAI,KAAA;IACA;EACA;EACAC,KAAA;IACAC,UAAAC,KAAA;MACA,KAAAV,gBAAA,GAAAU,KAAA;IACA;IACAC,QAAAD,KAAA;MACA,KAAAT,cAAA,GAAAS,KAAA;IACA;IACAE,WAAAF,KAAA;MACA,KAAAR,iBAAA,GAAAQ,KAAA;IACA;EACA;EACAG,OAAA;IACAC,OAAA;MACA,KAAAC,KAAA,2BAAAf,gBAAA;MACA,KAAAe,KAAA,yBAAAd,cAAA;MACA,KAAAc,KAAA,4BAAAb,iBAAA;IACA;IACAc,MAAA;MACA,KAAAhB,gBAAA;MACA,KAAAC,cAAA;MACA,KAAAC,iBAAA;MACA,KAAAY,MAAA;IACA;IACAG,eAAA;MACArB,KAAA,CAAAsB,GAAA,CAAArB,YAAA,6BACAsB,IAAA,CAAAC,QAAA,SAAAjB,cAAA,GAAAiB,QAAA,CAAArB,IAAA;IACA;EACA;EACAsB,QAAA;IACA,KAAAJ,cAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}